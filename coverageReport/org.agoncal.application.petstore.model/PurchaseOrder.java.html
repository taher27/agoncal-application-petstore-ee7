<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PurchaseOrder.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Petstore application using Java EE 7</a> &gt; <a href="index.source.html" class="el_package">org.agoncal.application.petstore.model</a> &gt; <span class="el_source">PurchaseOrder.java</span></div><h1>PurchaseOrder.java</h1><pre class="source lang-java linenums">package org.agoncal.application.petstore.model;

import javax.persistence.*;
import javax.validation.Valid;
import javax.xml.bind.annotation.XmlRootElement;
import java.io.Serializable;
import java.util.Date;
import java.util.HashSet;
import java.util.Objects;
import java.util.Set;

@Entity
@Table(name = &quot;purchase_order&quot;)
@XmlRootElement
@NamedQueries({
         @NamedQuery(name = PurchaseOrder.FIND_ALL, query = &quot;SELECT o FROM PurchaseOrder o&quot;)
})
public class PurchaseOrder implements Serializable
{

   // ======================================
   // = Attributes =
   // ======================================

   @Id
   @GeneratedValue(strategy = GenerationType.AUTO)
   @Column(name = &quot;id&quot;, updatable = false, nullable = false)
   private Long id;
   @Version
   @Column(name = &quot;version&quot;)
   private int version;

   @Column(name = &quot;order_date&quot;, updatable = false)
   @Temporal(TemporalType.DATE)
   private Date orderDate;

   @Column
   private Float totalWithoutVat;

   @Column(name = &quot;vat_rate&quot;)
   private Float vatRate;

   @Column
   private Float vat;

   @Column
   private Float totalWithVat;

   @Column(name = &quot;discount_rate&quot;)
   private Float discountRate;

   @Column
   private Float discount;

   @Column
   private Float total;

   @ManyToOne(fetch = FetchType.EAGER)
   @JoinColumn(name = &quot;customer_fk&quot;, nullable = false)
   private Customer customer;

<span class="nc" id="L62">   @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)</span>
   @JoinTable(name = &quot;t_order_order_line&quot;, joinColumns = { @JoinColumn(name = &quot;order_fk&quot;) }, inverseJoinColumns = {
            @JoinColumn(name = &quot;order_line_fk&quot;) })
   private Set&lt;OrderLine&gt; orderLines = new HashSet&lt;OrderLine&gt;();

<span class="nc" id="L67">   @Embedded</span>
   @Valid
   private Address deliveryAddress = new Address();

<span class="nc" id="L71">   @Embedded</span>
   @Valid
   private CreditCard creditCard = new CreditCard();

   // ======================================
   // = Constants =
   // ======================================

   public static final String FIND_ALL = &quot;Order.findAll&quot;;

   // ======================================
   // = Constructors =
   // ======================================

   public PurchaseOrder()
<span class="nc" id="L86">   {</span>
<span class="nc" id="L87">   }</span>

   public PurchaseOrder(Customer customer, CreditCard creditCard, Address deliveryAddress)
<span class="nc" id="L90">   {</span>
<span class="nc" id="L91">      this.customer = customer;</span>
<span class="nc" id="L92">      this.creditCard = creditCard;</span>
<span class="nc" id="L93">      this.deliveryAddress = deliveryAddress;</span>
<span class="nc" id="L94">   }</span>

   // ======================================
   // = Lifecycle Methods =
   // ======================================

   @PrePersist
   private void setDefaultData()
   {
<span class="nc" id="L103">      orderDate = new Date();</span>
<span class="nc" id="L104">   }</span>

   // ======================================
   // = Getters &amp; setters =
   // ======================================

   public Long getId()
   {
<span class="nc" id="L112">      return this.id;</span>
   }

   public void setId(final Long id)
   {
<span class="nc" id="L117">      this.id = id;</span>
<span class="nc" id="L118">   }</span>

   public int getVersion()
   {
<span class="nc" id="L122">      return this.version;</span>
   }

   public void setVersion(final int version)
   {
<span class="nc" id="L127">      this.version = version;</span>
<span class="nc" id="L128">   }</span>

   public Date getOrderDate()
   {
<span class="nc" id="L132">      return orderDate;</span>
   }

   public void setOrderDate(Date orderDate)
   {
<span class="nc" id="L137">      this.orderDate = orderDate;</span>
<span class="nc" id="L138">   }</span>

   public Float getTotalWithoutVat()
   {
<span class="nc" id="L142">      return totalWithoutVat;</span>
   }

   public void setTotalWithoutVat(Float totalWithoutVat)
   {
<span class="nc" id="L147">      this.totalWithoutVat = totalWithoutVat;</span>
<span class="nc" id="L148">   }</span>

   public Float getVatRate()
   {
<span class="nc" id="L152">      return vatRate;</span>
   }

   public void setVatRate(Float vatRate)
   {
<span class="nc" id="L157">      this.vatRate = vatRate;</span>
<span class="nc" id="L158">   }</span>

   public Float getVat()
   {
<span class="nc" id="L162">      return vat;</span>
   }

   public void setVat(Float vat)
   {
<span class="nc" id="L167">      this.vat = vat;</span>
<span class="nc" id="L168">   }</span>

   public Float getTotalWithVat()
   {
<span class="nc" id="L172">      return totalWithVat;</span>
   }

   public void setTotalWithVat(Float totalWithVat)
   {
<span class="nc" id="L177">      this.totalWithVat = totalWithVat;</span>
<span class="nc" id="L178">   }</span>

   public Float getDiscountRate()
   {
<span class="nc" id="L182">      return discountRate;</span>
   }

   public void setDiscountRate(Float discountRate)
   {
<span class="nc" id="L187">      this.discountRate = discountRate;</span>
<span class="nc" id="L188">   }</span>

   public Float getDiscount()
   {
<span class="nc" id="L192">      return discount;</span>
   }

   public void setDiscount(Float discount)
   {
<span class="nc" id="L197">      this.discount = discount;</span>
<span class="nc" id="L198">   }</span>

   public Float getTotal()
   {
<span class="nc" id="L202">      return total;</span>
   }

   public void setTotal(Float total)
   {
<span class="nc" id="L207">      this.total = total;</span>
<span class="nc" id="L208">   }</span>

   public Customer getCustomer()
   {
<span class="nc" id="L212">      return this.customer;</span>
   }

   public void setCustomer(final Customer customer)
   {
<span class="nc" id="L217">      this.customer = customer;</span>
<span class="nc" id="L218">   }</span>

   public Set&lt;OrderLine&gt; getOrderLines()
   {
<span class="nc" id="L222">      return this.orderLines;</span>
   }

   public void setOrderLines(final Set&lt;OrderLine&gt; orderLines)
   {
<span class="nc" id="L227">      this.orderLines = orderLines;</span>
<span class="nc" id="L228">   }</span>

   public Address getDeliveryAddress()
   {
<span class="nc" id="L232">      return deliveryAddress;</span>
   }

   public void setDeliveryAddress(Address deliveryAddress)
   {
<span class="nc" id="L237">      this.deliveryAddress = deliveryAddress;</span>
<span class="nc" id="L238">   }</span>

   public CreditCard getCreditCard()
   {
<span class="nc" id="L242">      return creditCard;</span>
   }

   public void setCreditCard(CreditCard creditCard)
   {
<span class="nc" id="L247">      this.creditCard = creditCard;</span>
<span class="nc" id="L248">   }</span>

   // ======================================
   // = Methods hash, equals, toString =
   // ======================================


    @Override
    public boolean equals(Object o) {
<span class="nc bnc" id="L257" title="All 2 branches missed.">        if (this == o) return true;</span>
<span class="nc bnc" id="L258" title="All 4 branches missed.">        if (o == null || getClass() != o.getClass()) return false;</span>
<span class="nc" id="L259">        PurchaseOrder that = (PurchaseOrder) o;</span>
<span class="nc bnc" id="L260" title="All 4 branches missed.">        return orderDate.equals(that.orderDate) &amp;&amp; customer.equals(that.customer);</span>
    }

    @Override
    public int hashCode() {
<span class="nc" id="L265">        return Objects.hash(orderDate, customer);</span>
    }

    @Override
   public String toString()
   {
<span class="nc" id="L271">      return &quot;PurchaseOrder{&quot; +</span>
               &quot;id=&quot; + id +
               &quot;, version=&quot; + version +
               &quot;, orderDate=&quot; + orderDate +
               &quot;, totalWithoutVat=&quot; + totalWithoutVat +
               &quot;, vatRate=&quot; + vatRate +
               &quot;, vat=&quot; + vat +
               &quot;, totalWithVat=&quot; + totalWithVat +
               &quot;, discountRate=&quot; + discountRate +
               &quot;, discount=&quot; + discount +
               &quot;, total=&quot; + total +
               &quot;, customer=&quot; + customer +
               &quot;, orderLines=&quot; + orderLines +
               &quot;, deliveryAddress=&quot; + deliveryAddress +
               &quot;, creditCard=&quot; + creditCard +
               '}';
   }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>